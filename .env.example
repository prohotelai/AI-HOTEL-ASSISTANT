# ============================================
# CORE CONFIGURATION (REQUIRED)
# ============================================

# Database Configuration (PostgreSQL)
# PRODUCTION: Add connection pooling parameters for stability
# connection_limit: Max connections (10 recommended)
# pool_timeout: Wait time for connection (10s)
# connect_timeout: DB connection timeout (20s)
DATABASE_URL="postgresql://user:password@localhost:5432/ai_hotel_assistant?schema=public&connection_limit=10&pool_timeout=10&connect_timeout=20"

# Authentication (NextAuth.js)
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="SbiyzXolCQRhenpb8xaFh78ZGURoZXa2r1Ls7lzNewA="
NEXTAUTH_URL="http://localhost:3000"

# Mobile authentication shared secret (configure mobile clients)
MOBILE_MAGIC_LINK_SHARED_SECRET="change-me-mobile-shared-secret"

# Application URLs
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ============================================
# AI SERVICES (OPTIONAL)
# ============================================

# OpenAI API (for chat & embeddings)
# Get key from: https://platform.openai.com/api-keys
OPENAI_API_KEY="sk-..."

# OpenAI Models
OPENAI_MODEL="gpt-4o-mini"
OPENAI_EMBEDDING_MODEL="text-embedding-3-large"

# Pinecone Vector Database (for semantic search)
# Get credentials from: https://app.pinecone.io/
PINECONE_API_KEY="pcsk_..."
PINECONE_ENVIRONMENT="us-east-1-aws"
PINECONE_INDEX="hotel-knowledge"

# ============================================
# CACHE & QUEUES (REQUIRED IN PRODUCTION)
# ============================================

# Redis/Upstash (for caching and job queues)
# Get URL from: https://console.upstash.com/
# PRODUCTION: Must use rediss:// (TLS) and include password
REDIS_URL="rediss://default:password@host:6379"

# Redis Password (if not included in URL)
# REQUIRED in production for security
REDIS_PASSWORD=""

# ============================================
# EMAIL SERVICE (OPTIONAL)
# ============================================

# Resend Email API (modern email service)
# Get key from: https://resend.com/api-keys
RESEND_API_KEY="re_..."
EMAIL_FROM="noreply@yourdomain.com"
SMTP_HOST="smtp.resend.com"
SMTP_PORT="587"
SMTP_USER="re_SyjMfgkk_CkuprYLKpCUqVDNWMBUwBC18"
SMTP_PASS="re_SyjMfgkk_CkuprYLKpCUqVDNWMBUwBC18"
SMTP_FROM="AI Hotel Assistant <no-reply@prohotelai.com>"

# ============================================
# PAYMENT PROCESSING (OPTIONAL)
# ============================================

# Stripe Payment Gateway
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# ============================================
# EXTERNAL INTEGRATIONS (OPTIONAL)
# ============================================

# AWS S3 for file storage
AWS_ACCESS_KEY_ID="..."
AWS_SECRET_ACCESS_KEY="..."
AWS_REGION="us-east-1"
AWS_S3_BUCKET="hotel-assistant-files"

# PMS Integration (Hotel Property Management System)
PMS_API_URL="https://pms-provider.com/api"
PMS_API_KEY="..."
PMS_WEBHOOK_SECRET="..."

# ============================================
# FEATURE FLAGS
# ============================================

# Enable/disable features
ENABLE_QR_AUTOMATION="true"
ENABLE_AI_WORKFLOWS="true"
ENABLE_OFFLINE_SYNC="true"
ENABLE_WIDGET_SDK="true"

# ============================================
# LOGGING & MONITORING
# ============================================

# Log level: error, warn, info, debug
LOG_LEVEL="info"

# Sentry error tracking (RECOMMENDED for production)
# Get DSN from: https://sentry.io/
# Captures API errors, background job failures, PMS exceptions
SENTRY_DSN="https://public@sentry.io/project-id"
SENTRY_ENVIRONMENT="production"
SENTRY_TRACES_SAMPLE_RATE="0.1"

# ============================================
# SECURITY
# ============================================

# Session configuration (in hours)
SESSION_TIMEOUT="1"

# CORS settings
CORS_ORIGIN="http://localhost:3000"

# Rate limiting (legacy - now handled by lib/middleware/rateLimit.ts)
RATE_LIMIT_WINDOW_MS="900000"
RATE_LIMIT_MAX_REQUESTS="100"

# ============================================
# PRODUCTION HARDENING
# ============================================

# Security: Force HTTPS in production
FORCE_HTTPS="true"

# Security: Trusted proxy IPs (for rate limiting behind load balancer)
# Comma-separated list of proxy IPs
TRUSTED_PROXIES="127.0.0.1"

# Performance: Enable response compression
ENABLE_COMPRESSION="true"

# ============================================
# NODE ENVIRONMENT
# ============================================

NODE_ENV="production"
